// SPDX-License-Identifier: MIT
pragma solidity >=0.8.28;

import "deployment/Imports.sol";

import { SystemCall } from "deployment/SystemCall.s.sol";
import { Coord } from "libraries/LibRoom.sol";

contract InitWorld is SystemCall {
  function initWorld(uint256 deployerPriv, address worldAddr) public {
    _setUp(worldAddr);
    vm.startBroadcast(deployerPriv);

    _initWorld(worldAddr);
  }

  function initTests(address deployer, address worldAddr) public {
    _setUp(worldAddr);
    vm.startPrank(deployer);

    _initWorld(worldAddr);
    vm.stopPrank();
  }
  
  function _initWorld( address worldAddr) internal {
    <% calls.forEach(call=> { -%>
      <%- call.system %>(_getSysAddr(<%- call.id %>)).<%- call.func %><%-`${call.gas ? `{gas: ${call.gas}}` : ''}`%>(
        <%- call.args %>
      ); 
    <% }); -%>
  }
}